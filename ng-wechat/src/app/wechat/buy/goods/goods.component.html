<Page [ngClass]="'badge'" [showTitle]="false" [spacing]="false" [ftBottom]="true">
    <div class="weui-cells" style="margin-top: 0px;">
        <div class="weui-cell" style=" padding: 0px;">
            <div style="text-align: center; width: 100%;">
                <img src="./assets/images/goods/goods.jpg" style="width:100%;">
            </div>
        </div>
    </div>
    <weui-searchbar (search)="onSearch($event)" placeholder="输入商品名称" (cancel)="onCancel()" (clear)="onClear()" (submit)="onSubmit($event)"></weui-searchbar>
    <div class="weui-panel" style="margin-top: 0px;" *ngIf="value">
        <div class="weui-panel__hd">查询商品【{{value}}】</div>
        <div class="weui-panel__bd" *ngIf="items | async; let items; else loading">
            <div class="weui-cell weui-cell_access" *ngFor="let item of items">
                <div class="weui-cell__bd weui-cell_primary">
                    <p>{{item}}</p>
                </div>
            </div>
            <div class="weui-media-box weui-media-box_text" *ngIf="items?.length === 0">Can't find any！</div>
        </div>
        <ng-template #loading>
            <div class="weui-panel__bd">
                <div class="weui-media-box weui-media-box_text">Loading...</div>
            </div>
        </ng-template>
        <a class="weui-panel__ft" href="javascript:void(0);">
            <div class="weui-cell weui-cell_access weui-cell_link">
                <div class="weui-cell__bd">More</div>
                <div class="weui-cell__ft"></div>
            </div>
        </a>
    </div>
    <div class="weui-cells" *ngIf="shops && shops.length > 0">
        <a class="weui-cell weui-cell_access" *ngFor="let s of shops" (click)="goShop(s.id)">
            <div class="weui-cell__hd weui-cell_img" [ngStyle]="{'background-image':'url('+ hostUrl + s.coverPhoto +')'}">
            </div>
            <div class="weui-cell__bd">
                <p>{{s.name}}</p>
                <p style="font-size: 13px;color: #888888;">地址：{{s.address}}
                    <br/>电话：{{s.tel}}</p>
            </div>
            <div class="weui-cell__ft">
                {{s.distance}}米
            </div>
        </a>
    </div>
    <weui-loadmore type="line" *ngIf="!shops || shops.length == 0"></weui-loadmore>
</Page>