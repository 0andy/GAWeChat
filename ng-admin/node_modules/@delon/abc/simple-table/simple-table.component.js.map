{"version":3,"file":"simple-table.component.js","sourceRoot":"","sources":["../../../.ng_build/abc/simple-table/simple-table.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Inject, Input, Output, OnDestroy, OnInit, OnChanges, SimpleChanges, EventEmitter, Renderer2, ElementRef, TemplateRef, SimpleChange, QueryList, ViewChildren, AfterViewInit, ContentChildren, ContentChild, Optional } from '@angular/core';\r\nimport { _HttpClient, CNCurrencyPipe, MomentDatePipe, YNPipe, ModalHelper, ALAIN_I18N_TOKEN, AlainI18NService } from '@delon/theme';\r\nimport { ACLService } from '@delon/acl';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { tap, map } from 'rxjs/operators';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { coerceBooleanProperty, coerceNumberProperty } from '@angular/cdk/coercion';\r\nimport { SimpleTableColumn, SimpleTableChange, CompareFn, SimpleTableSelection, SimpleTableFilter, SimpleTableData, SimpleTableButton, STExportOptions } from './interface';\r\nimport { SimpleTableConfig } from './simple-table.config';\r\nimport { deepGet } from '../utils/utils';\r\nimport { SimpleTableRowDirective } from './simple-table-row.directive';\r\nimport { SimpleTableExport } from './simple-table-export';\r\n\r\n@Component({\r\n    selector: 'simple-table',\r\n    templateUrl: './simple-table.component.html',\r\n    styleUrls: [ './simple-table.css' ],\r\n    providers: [ SimpleTableExport, CNCurrencyPipe, MomentDatePipe, YNPipe ]\r\n})\r\nexport class SimpleTableComponent implements OnInit, OnChanges, AfterViewInit, OnDestroy {\r\n\r\n    private data$: Subscription;\r\n    _data: SimpleTableData[] = [];\r\n    _url: string;\r\n    _isAjax = false;\r\n    _isPagination = true;\r\n    _classMap: string[] = [];\r\n    _allChecked = false;\r\n    _indeterminate = false;\r\n    _sortMap: { [key: number ]: any } = {};\r\n    _sortColumn: SimpleTableColumn = null;\r\n    _sortOrder: string;\r\n    _sortIndex: number;\r\n    _footer = false;\r\n    _columns: SimpleTableColumn[] = [];\r\n\r\n    // region: fields\r\n\r\n    /** 数据源 */\r\n    @Input() data: string | any[] | Observable<any[]>;\r\n    /**\r\n     * 后端URL地址\r\n     * @deprecated 已过期，请使用 `data` 属性，`0.6.0` 后将移除\r\n     */\r\n    @Input() url: string;\r\n    /**\r\n     * 额外请求参数，默认自动附加 `pi`、`ps` 至URL\r\n     * - `{ status: 'new' }` => `url?pi=1&ps=10&status=new`\r\n     */\r\n    @Input() extraParams: any;\r\n    /** 请求方法 */\r\n    @Input() reqMehtod: string = 'GET';\r\n    /** 请求体 `body` */\r\n    @Input() reqBody: any;\r\n    /** 请求体 `Header` */\r\n    @Input() reqHeaders: any;\r\n    /**\r\n     * 重命名请求参数 `pi`、`ps`\r\n     * - `{ pi: 'Page' }` => `pi` 会被替换成 Page\r\n     */\r\n    @Input() reqReName: Object;\r\n    /** 请求异常时回调 */\r\n    @Output() reqError: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * 重命名返回参数 `total`、`list`\r\n     * - `{ total: 'Total' }` => Total 会被当作 `total`\r\n     */\r\n    @Input() resReName: { total?: string | string[], list?: string | string[] } = { total: ['total'], list: ['list'] };\r\n    /** 列描述  */\r\n    @Input() columns: SimpleTableColumn[] = [];\r\n    /** 每页数量，当设置为 `0` 表示不分页，默认：`10` */\r\n    @Input()\r\n    get ps() { return this._ps; }\r\n    set ps(value: any) {\r\n        this._ps = coerceNumberProperty(value);\r\n    }\r\n    private _ps = 10;\r\n    /** 当前页码 */\r\n    @Input()\r\n    get pi() { return this._pi; }\r\n    set pi(value: any) {\r\n        this._pi = coerceNumberProperty(value);\r\n    }\r\n    private _pi = 1;\r\n    /** 数据总量 */\r\n    @Input()\r\n    get total() { return this._total; }\r\n    set total(value: any) {\r\n        this._total = coerceNumberProperty(value);\r\n    }\r\n    private _total = 0;\r\n    /** 是否显示Loading */\r\n    @Input()\r\n    get loading() { return this._loading; }\r\n    set loading(value: any) {\r\n        this._loading = coerceBooleanProperty(value);\r\n    }\r\n    private _loading = false;\r\n    /** 是否显示边框 */\r\n    @Input()\r\n    get bordered() { return this._bordered; }\r\n    set bordered(value: any) {\r\n        this._bordered = coerceBooleanProperty(value);\r\n    }\r\n    private _bordered = false;\r\n    /** table大小 */\r\n    @Input() size: 'small' | 'middle' | 'default' = 'default';\r\n    /** 纵向支持滚动，也可用于指定滚动区域的高度：`{ y: 300 }` */\r\n    @Input() scroll: { y: number };\r\n    /** 是否显示pagination中改变页数 */\r\n    @Input()\r\n    get showSizeChanger() { return this._showSizeChanger; }\r\n    set showSizeChanger(value: any) {\r\n        this._showSizeChanger = coerceBooleanProperty(value);\r\n    }\r\n    private _showSizeChanger = false;\r\n    /** pagination中每页显示条目数下拉框值 */\r\n    @Input() pageSizeSelectorValues: number[] = [10, 20, 30, 40, 50];\r\n    /** 是否显示pagination中快速跳转 */\r\n    @Input()\r\n    get showQuickJumper() { return this._showQuickJumper; }\r\n    set showQuickJumper(value: any) {\r\n        this._showQuickJumper = coerceBooleanProperty(value);\r\n    }\r\n    private _showQuickJumper = false;\r\n    /** 是否显示总数据量 */\r\n    @Input()\r\n    get showTotal() { return this._showTotal; }\r\n    set showTotal(value: any) {\r\n        this._showTotal = coerceBooleanProperty(value);\r\n    }\r\n    private _showTotal = false;\r\n    /** 数据变更后是否保留在数据变更前的页码 */\r\n    @Input()\r\n    get isPageIndexReset() { return this._isPageIndexReset; }\r\n    set isPageIndexReset(value: any) {\r\n        this._isPageIndexReset = coerceBooleanProperty(value);\r\n    }\r\n    private _isPageIndexReset = true;\r\n    /** 分页方向 */\r\n    @Input() pagePlacement?: 'left' | 'center' | 'right' = 'right';\r\n    /** 切换分页时返回顶部 */\r\n    @Input()\r\n    get toTopInChange() { return this._toTopInChange; }\r\n    set toTopInChange(value: any) {\r\n        this._toTopInChange = coerceBooleanProperty(value);\r\n    }\r\n    private _toTopInChange = true;\r\n    /** 返回顶部偏移值 */\r\n    @Input()\r\n    get toTopOffset() { return this._toTopOffset; }\r\n    set toTopOffset(value: any) {\r\n        this._toTopOffset = coerceNumberProperty(value);\r\n    }\r\n    private _toTopOffset = 0;\r\n    /** 重命名排序值，`columns` 的重命名高于属性 */\r\n    @Input() sortReName: { ascend?: string, descend?: string };\r\n    /** 数据处理前回调 */\r\n    @Input() preDataChange: (data: SimpleTableData[]) => SimpleTableData[];\r\n    /** 额外 `body` 内容 */\r\n    @ContentChild('body') body: TemplateRef<any>;\r\n    /** `footer` 内容 */\r\n    @ContentChild('footer') footer: TemplateRef<any>;\r\n    /** 页码、每页数量变化时回调 */\r\n    @Output() change: EventEmitter<SimpleTableChange> = new EventEmitter<SimpleTableChange>();\r\n    /** checkbox变化时回调，参数为当前所选清单 */\r\n    @Output() checkboxChange: EventEmitter<SimpleTableData[]> = new EventEmitter<SimpleTableData[]>();\r\n    /** radio变化时回调，参数为当前所选 */\r\n    @Output() radioChange: EventEmitter<SimpleTableData> = new EventEmitter<SimpleTableData>();\r\n    /** 排序回调 */\r\n    @Output() sortChange: EventEmitter<any> = new EventEmitter<any>();\r\n    /** Filter回调 */\r\n    @Output() filterChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    // endregion\r\n\r\n    constructor(\r\n        defConfig: SimpleTableConfig,\r\n        private _http: _HttpClient,\r\n        private el: ElementRef,\r\n        private renderer: Renderer2,\r\n        private exportSrv: SimpleTableExport,\r\n        @Optional() private acl: ACLService,\r\n        @Optional() @Inject(ALAIN_I18N_TOKEN) private i18nSrv: AlainI18NService,\r\n        private modal: ModalHelper,\r\n        private currenty: CNCurrencyPipe,\r\n        private date: MomentDatePipe,\r\n        private yn: YNPipe\r\n    ) {\r\n        Object.assign(this, defConfig);\r\n    }\r\n\r\n    // region: data\r\n\r\n    private getAjaxData(url?: string): Observable<any> {\r\n        const params: any = {};\r\n        params[this.reqReName && this.reqReName['pi'] || 'pi'] = this.pi;\r\n        params[this.reqReName && this.reqReName['ps'] || 'ps'] = this.ps;\r\n        return this._http.request(this.reqMehtod, url || this._url, {\r\n            params: Object.assign(params, this.extraParams, this.getReqSortMap(), this.getReqFilterMap()),\r\n            body: this.reqBody,\r\n            headers: this.reqHeaders\r\n        }).pipe(map((res: any) => {\r\n            const ret = deepGet(res, this.resReName.list as string[], null);\r\n            if (typeof ret === 'undefined') {\r\n                console.warn(`results muse contain '${(this.resReName.list as string[]).join('.')}' attribute.`);\r\n                return;\r\n            }\r\n            if (!Array.isArray(ret)) {\r\n                console.warn(`'${(this.resReName.list as string[]).join('.')}' muse be array type.`);\r\n                return;\r\n            }\r\n            // total\r\n            const retTotal = this.resReName.total && deepGet(res, this.resReName.total as string[], null);\r\n            if (typeof retTotal === 'undefined') {\r\n                if (this.resReName.total) console.warn(`results muse contain '${(this.resReName.total as string[]).join('.')}' attribute.`);\r\n                return;\r\n            }\r\n            this.total = +retTotal;\r\n            return <any[]>ret;\r\n        }));\r\n    }\r\n\r\n    load(pi = 1) {\r\n        this.pi = pi;\r\n        this._change('pi');\r\n    }\r\n\r\n    _change(type: 'pi' | 'ps') {\r\n        this._genAjax();\r\n        this._genData();\r\n        this._toTop();\r\n        this.change.emit({\r\n            type: type,\r\n            pi: this.pi,\r\n            ps: this.ps,\r\n            total: this.total\r\n        });\r\n    }\r\n\r\n    _genAjax(forceRefresh: boolean = false) {\r\n        if (!this._isAjax) return;\r\n        this.loading = true;\r\n        if (forceRefresh === true) this.pi = 1;\r\n        this.getAjaxData().subscribe((res: any) => this._subscribeData(res), err => {\r\n            this.loading = false;\r\n            this.reqError.emit(err);\r\n        });\r\n    }\r\n\r\n    _genData(forceRefresh: boolean = false) {\r\n        if (this._isAjax) return;\r\n        let data = <any[]>this.data || [];\r\n        // sort\r\n        data = data.slice(0);\r\n        const sorterFn = this.getSorterFn();\r\n        if (sorterFn) {\r\n            data = this.recursiveSort(data, sorterFn);\r\n        }\r\n\r\n        // filter\r\n        this._columns.filter(w => w.filters && w.filters.length).forEach(c => {\r\n            const values = c.filters.filter(w => w.checked);\r\n            if (values.length === 0) return;\r\n            const onFilter = c.filter;\r\n            data = data.filter(record => {\r\n                return values.some(v => onFilter(v, record));\r\n            });\r\n        });\r\n\r\n        if (forceRefresh) {\r\n            if (this.isPageIndexReset) {\r\n                this.pi = 1;\r\n            } else {\r\n                const maxPageIndex = Math.ceil(data.length / this.ps);\r\n                this.pi = !this.pi ? 1 : (this.pi > maxPageIndex ? maxPageIndex : this.pi);\r\n            }\r\n        }\r\n        this.total = this.total <= 0 ? data.length : this.total;\r\n        this._isPagination = this.ps > 0 && this.total > this.ps;\r\n        this._subscribeData(data.slice((this.pi - 1) * this.ps, this.pi * this.ps));\r\n    }\r\n\r\n    _toTop() {\r\n        if (!this.toTopInChange) return;\r\n        if (this.scroll) {\r\n            (this.el.nativeElement as HTMLElement).querySelector('.ant-table-body').scrollTo(0, 0);\r\n            return ;\r\n        }\r\n        if (this.el.nativeElement.scrollIntoView) this.el.nativeElement.scrollIntoView();\r\n        // todo: toTopOffset\r\n    }\r\n\r\n    _get(item: any, col: SimpleTableColumn) {\r\n        if (col.format) return col.format(item, col);\r\n\r\n        const ret = deepGet(item, col.index as string[], '');\r\n        if (typeof ret === 'undefined') return '';\r\n\r\n        switch (col.type) {\r\n            case 'img':\r\n                return `<img src=\"${ret}\" class=\"img\">`;\r\n            case 'currency':\r\n                return this.currenty.transform(ret);\r\n            case 'date':\r\n                return this.date.transform(ret, col.dateFormat);\r\n            case 'yn':\r\n                return this.yn.transform(ret === col.ynTruth, col.ynYes, col.ynNo);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    private getDataObs(urlOrData?: string | any[]): Observable<any[]> {\r\n        return urlOrData || Array.isArray(this.data) ? of(urlOrData as any[] || this.data as any[]) : this.data as Observable<any[]>;\r\n    }\r\n\r\n    private processData() {\r\n        if (!this.data && !this.url) {\r\n            this._isAjax = false;\r\n            this.data = [];\r\n            return;\r\n        }\r\n\r\n        this._isAjax = false;\r\n        if (typeof this.data === 'string' || this.url) {\r\n            this._url = this.url || this.data as string;\r\n            this._isAjax = true;\r\n            this._genAjax(true);\r\n        } else if (Array.isArray(this.data)) {\r\n            this._genData(true);\r\n        } else {\r\n            if (!this.data$) {\r\n                this.data$ = <any>this.data.pipe(tap(() => this.loading = true)).subscribe((res) => {\r\n                    this.data = res;\r\n                    this._genData(true);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    private _subscribeData(res: any[]) {\r\n        if (this.preDataChange) res = this.preDataChange(res);\r\n        this.loading = false;\r\n        this._data = res;\r\n        this._refCheck();\r\n    }\r\n\r\n    // endregion\r\n\r\n    // region: sort\r\n\r\n    private getReqSortMap(): { [key: string]: string } {\r\n        const ret: { [ key: string]: string } = {};\r\n        if (!this._sortOrder) return ret;\r\n\r\n        const mapData = this._sortMap[this._sortIndex];\r\n        ret[mapData.key] =\r\n            (this._sortColumn.sortReName || this.sortReName || {})[mapData.v] || mapData.v;\r\n        return ret;\r\n    }\r\n\r\n    private recursiveSort(data: any[], sorterFn: (a: any, b: any) => number): any[] {\r\n        const childrenColumnName = 'children';\r\n        return data.sort(sorterFn).map((item: any) => (item[childrenColumnName] ? {\r\n            ...item,\r\n            [childrenColumnName]: this.recursiveSort(item[childrenColumnName], sorterFn),\r\n        } : item));\r\n    }\r\n\r\n    private getSorterFn() {\r\n        // _sortMap\r\n        if (!this._sortOrder || !this._sortColumn || typeof this._sortColumn.sorter !== 'function') {\r\n            return;\r\n        }\r\n\r\n        return (a: any, b: any) => {\r\n            const result = (this._sortColumn!.sorter as CompareFn)(a, b);\r\n            if (result !== 0) {\r\n                return (this._sortOrder === 'descend') ? -result : result;\r\n            }\r\n            return 0;\r\n        };\r\n    }\r\n\r\n    sort(index: number, value: any) {\r\n        if (this._sortIndex === index && this._sortOrder === value) return;\r\n        this._sortColumn = this._columns[index];\r\n        this._sortOrder = value;\r\n        this._sortIndex = index;\r\n        Object.keys(this._sortMap).forEach(key => this._sortMap[key].v = +key === index ? value : null);\r\n        this._genAjax(true);\r\n        this._genData(true);\r\n        this.sortChange.emit({ value, map: this.getReqSortMap(), column: this._sortColumn });\r\n    }\r\n\r\n    // endregion\r\n\r\n    // region: filter\r\n\r\n    private getReqFilterMap(): { [key: string]: string } {\r\n        let ret: { [ key: string]: string } = {};\r\n        this._columns.filter(w => w.filtered === true).forEach(col => {\r\n            const values = col.filters.filter(f => f.checked === true);\r\n            let obj: Object = {};\r\n            if (col.filterReName)\r\n                obj = col.filterReName(col.filters, col);\r\n            else\r\n                obj[col.filterKey || col.indexKey] = values.map(i => i.value).join(',');\r\n\r\n            ret = Object.assign(ret, obj);\r\n        });\r\n        return ret;\r\n    }\r\n\r\n    private handleFilter(col: SimpleTableColumn) {\r\n        col.filtered = col.filters.findIndex(w => w.checked) !== -1;\r\n        this._genAjax(true);\r\n        this._genData(true);\r\n        this.filterChange.emit(col);\r\n    }\r\n\r\n    filterConfirm(col: SimpleTableColumn) {\r\n        this.handleFilter(col);\r\n    }\r\n\r\n    filterClear(col: SimpleTableColumn) {\r\n        col.filters.forEach(i => i.checked = false);\r\n        this.handleFilter(col);\r\n    }\r\n\r\n    filterRadio(col: SimpleTableColumn, item: SimpleTableFilter, checked: boolean) {\r\n        col.filters.forEach(i => i.checked = false);\r\n        item.checked = checked;\r\n    }\r\n\r\n    // endregion\r\n\r\n    // region: checkbox\r\n\r\n    _checkAll() {\r\n        this._data.filter(w => !w.disabled).forEach(i => i.checked = this._allChecked);\r\n        this._refCheck();\r\n        this.checkboxChange.emit(this._data.filter(w => w.checked === true));\r\n    }\r\n\r\n    _checkSelection(i: SimpleTableData) {\r\n        this.checkboxChange.emit(this._data.filter(w => w.checked === true));\r\n    }\r\n\r\n    _refCheck() {\r\n        const validData = this._data.filter(w => !w.disabled);\r\n        const checkedList = validData.filter(w => w.checked === true);\r\n        this._allChecked = checkedList.length > 0 && checkedList.length === validData.length;\r\n        const allUnChecked = validData.every(value => !value.checked);\r\n        this._indeterminate = (!this._allChecked) && (!allUnChecked);\r\n    }\r\n\r\n    _rowSelection(row: SimpleTableSelection) {\r\n        if (row.select) row.select(this._data);\r\n        this._refCheck();\r\n        this.checkboxChange.emit(this._data.filter(w => !w.disabled && w.checked === true));\r\n    }\r\n\r\n    // endregion\r\n\r\n    // region: radio\r\n\r\n    _refRadio(idx: number, checked: boolean) {\r\n        this._data.forEach(i => i.checked = false);\r\n        this._data[idx].checked = checked;\r\n        this.radioChange.emit({ checked, item: this._data[idx] });\r\n    }\r\n\r\n    // endregion\r\n\r\n    // region: buttons\r\n\r\n    btnClick(record: any, btn: SimpleTableButton) {\r\n        if (btn.type === 'modal' || btn.type === 'static') {\r\n            this.modal[btn.type === 'modal' ? 'open' : 'static'](btn.component, Object.assign({\r\n                record\r\n            }, btn.params && btn.params(record)), btn.size, btn.modalOptions).subscribe(res => {\r\n                if (btn.click) btn.click(record, res);\r\n            });\r\n            return;\r\n        }\r\n        if (btn.click) btn.click(record);\r\n    }\r\n\r\n    btnText(record: any, btn: SimpleTableButton) {\r\n        if (btn.format) return btn.format(record, btn);\r\n        return btn.text;\r\n    }\r\n\r\n    // endregion\r\n\r\n    // region: export\r\n\r\n    /**\r\n     * 导出Excel，确保已经注册 `AdXlsxModule`\r\n     * @param urlOrData 重新指定数据，例如希望导出所有数据非常有用\r\n     * @param opt 额外参数\r\n     */\r\n    export(urlOrData?: string | any[], opt?: STExportOptions) {\r\n        (\r\n            (!urlOrData && this._isAjax) || (urlOrData && typeof urlOrData === 'string') ?\r\n                this.getAjaxData(urlOrData as string) :\r\n                this.getDataObs(urlOrData)\r\n        )\r\n            .subscribe((res: any[]) =>\r\n                this.exportSrv.export(Object.assign({}, opt, <STExportOptions>{\r\n                    _d: res,\r\n                    _c: this._columns\r\n                }))\r\n            );\r\n    }\r\n\r\n    // endregion\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this._footer = !!this.footer;\r\n    }\r\n\r\n    addRow(row: SimpleTableRowDirective) {\r\n        const col = this._columns.find(w => w.render === row.id);\r\n        if (col) col.__render = row.templateRef;\r\n    }\r\n\r\n    private updateStatus() {\r\n        if (this.data && this.url) throw new Error(`data & url property muse be either-or`);\r\n\r\n        this.setClass();\r\n\r\n        // columns\r\n        if (!this.columns || this.columns.length === 0) throw new Error(`the columns property muse be define!`);\r\n        if (this._columns.length === 0) {\r\n            let checkboxCount = 0;\r\n            let radioCount = 0;\r\n            const sortMap: Object = {};\r\n            let idx = 0;\r\n            const newColumns: SimpleTableColumn[] = [];\r\n            for (const item of this.columns) {\r\n                if (this.acl && item.acl && !this.acl.can(item.acl)) continue;\r\n                if (item.index) {\r\n                    if (!Array.isArray(item.index))\r\n                        item.index = item.index.split('.');\r\n\r\n                    item.indexKey = item.index.join('.');\r\n                }\r\n                // rowSelection\r\n                if (!item.selections) item.selections = [];\r\n                if (item.type === 'checkbox') {\r\n                    ++checkboxCount;\r\n                    if (!item.width) item.width = `${item.selections.length > 0 ? 60 : 50}px`;\r\n                }\r\n                if (item.type === 'radio') {\r\n                    ++radioCount;\r\n                    item.selections = [];\r\n                    if (!item.width) item.width = '50px';\r\n                }\r\n                if (!item.className) {\r\n                    item.className = {\r\n                        // 'checkbox': 'text-center',\r\n                        // 'radio': 'text-center',\r\n                        'currency': 'text-right',\r\n                        'date': 'text-center'\r\n                    }[item.type];\r\n                }\r\n                if (item.type === 'yn' && typeof item.ynTruth === 'undefined')\r\n                    item.ynTruth = true;\r\n\r\n                // sorter\r\n                if (item.sorter) {\r\n                    sortMap[idx] = { v: item.sort, key: item.sortKey || item.indexKey };\r\n                    if (item.sort && !this._sortColumn) {\r\n                        this._sortColumn = item;\r\n                        this._sortOrder = item.sort;\r\n                        this._sortIndex = idx;\r\n                    }\r\n                }\r\n                // filter\r\n                if (!item.filter || !item.filters) item.filters = [];\r\n                if (typeof item.filterMultiple === 'undefined') item.filterMultiple = true;\r\n                if (!item.filterConfirmText) item.filterConfirmText = `确认`;\r\n                if (!item.filterClearText) item.filterClearText = `重置`;\r\n                if (!item.filterIcon) item.filterIcon = `anticon anticon-filter`;\r\n                item.filtered = item.filters.findIndex(w => w.checked) !== -1;\r\n\r\n                if (this.acl) {\r\n                    item.selections = item.selections.filter(w => !w.acl || this.acl.can(w.acl));\r\n                    item.filters = item.filters.filter(w => !w.acl || this.acl.can(w.acl));\r\n                }\r\n\r\n                // buttons\r\n                const buttons: SimpleTableButton[] = [];\r\n                if (item.buttons) {\r\n                    for (const btn of item.buttons) {\r\n                        if (this.acl && btn.acl && !this.acl.can(btn.acl)) continue;\r\n\r\n                        if (btn.type === 'del' && typeof btn.pop === 'undefined')\r\n                            btn.pop = true;\r\n\r\n                        if (btn.pop === true) {\r\n                            btn._type = 2;\r\n                            if (typeof btn.popTitle === 'undefined') btn.popTitle = `确认删除吗？`;\r\n                        }\r\n                        if (btn.children && btn.children.length > 0) {\r\n                            btn._type = 3;\r\n                        }\r\n                        if (!btn._type) btn._type = 1;\r\n\r\n                        // i18n\r\n                        if (btn.i18n && this.i18nSrv) btn.text = this.i18nSrv.fanyi(btn.i18n);\r\n\r\n                        buttons.push(btn);\r\n                    }\r\n                    if (buttons.length === 0) continue;\r\n                }\r\n                item.buttons = buttons;\r\n                // i18n\r\n                if (item.i18n && this.i18nSrv) item.title = this.i18nSrv.fanyi(item.i18n);\r\n\r\n                ++idx;\r\n                newColumns.push(item);\r\n            }\r\n            this._columns = newColumns;\r\n            if (checkboxCount > 1) throw new Error(`just only one column checkbox`);\r\n            if (radioCount > 1) throw new Error(`just only one column radio`);\r\n            this._sortMap = sortMap;\r\n        }\r\n        // reqReName\r\n        if (this.reqReName) {\r\n        }\r\n        // resReName\r\n        if (this.resReName) {\r\n            if (this.resReName.list)\r\n                if (!Array.isArray(this.resReName.list)) this.resReName.list = this.resReName.list.split('.');\r\n            else\r\n                this.resReName.list = ['list'];\r\n\r\n            if (this.resReName.total)\r\n                if (!Array.isArray(this.resReName.total)) this.resReName.total = this.resReName.total.split('.');\r\n            else\r\n                this.resReName.total = ['total'];\r\n        } else {\r\n            this.resReName = { total: ['total'], list: ['list'] };\r\n        }\r\n    }\r\n\r\n    private setClass() {\r\n        this._classMap.forEach(cls => this.renderer.removeClass(this.el.nativeElement, cls));\r\n\r\n        this._classMap = [];\r\n        if (this.pagePlacement)\r\n            this._classMap.push('page-' + this.pagePlacement);\r\n\r\n        this._classMap.forEach(cls => this.renderer.addClass(this.el.nativeElement, cls));\r\n    }\r\n\r\n    ngOnChanges(changes: { [P in keyof this]?: SimpleChange } & SimpleChanges): void {\r\n        if (changes.columns) this._columns = [];\r\n\r\n        this.updateStatus();\r\n\r\n        if (changes.data || changes.url) {\r\n            this.processData();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.data$) {\r\n            this.data$.unsubscribe();\r\n            this.data$ = null;\r\n        }\r\n    }\r\n\r\n}\r\n"]}