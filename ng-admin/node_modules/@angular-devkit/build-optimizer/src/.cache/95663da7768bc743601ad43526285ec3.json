{"remainingRequest":"D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--3-1!D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\@delon\\theme\\services\\scroll\\scroll.service.js","dependencies":[{"path":"D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\@delon\\theme\\services\\scroll\\scroll.service.js","mtime":1515671330000},{"path":"D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":0},{"path":"D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["import { Injectable, Inject } from '@angular/core';\nimport { PlatformLocation } from '@angular/common';\nimport { DOCUMENT } from '@angular/platform-browser';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nexport var topMargin = 16;\nvar ScrollService = /*@__PURE__*/ (function () {\n    function ScrollService(doc, location) {\n        var _this = this;\n        this.doc = doc;\n        this.location = location;\n        fromEvent(window, 'resize').subscribe(function () { return _this._topOffset = null; });\n    }\n    Object.defineProperty(ScrollService.prototype, \"topOffset\", {\n        get: function () {\n            if (!this._topOffset) {\n                var toolbar_1 = this.doc.querySelector('.header');\n                this._topOffset = (toolbar_1 && toolbar_1.clientHeight || 0) + topMargin;\n            }\n            return this._topOffset;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScrollService.prototype, \"topOfPageElement\", {\n        get: function () {\n            if (!this._topOfPageElement) {\n                this._topOfPageElement = this.doc.getElementById('top-of-page') || this.doc.body;\n            }\n            return this._topOfPageElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScrollService.prototype.scroll = function () {\n        var hash = this.getCurrentHash();\n        var element = hash ? this.doc.getElementById(hash) : this.topOfPageElement;\n        this.scrollToElement(element);\n    };\n    ScrollService.prototype.scrollToElement = function (element) {\n        if (element) {\n            element.scrollIntoView();\n            if (window && window.scrollBy) {\n                window.scrollBy(0, element.getBoundingClientRect().top - this.topOffset);\n                if (window.pageYOffset < 20) {\n                    window.scrollBy(0, -window.pageYOffset);\n                }\n            }\n        }\n    };\n    ScrollService.prototype.scrollToTop = function () {\n        this.scrollToElement(this.topOfPageElement);\n    };\n    ScrollService.prototype.getCurrentHash = function () {\n        return this.location.hash.replace(/^#/, '');\n    };\n    return ScrollService;\n}());\nexport { ScrollService };\n//# sourceMappingURL=scroll.service.js.map \n",null]}