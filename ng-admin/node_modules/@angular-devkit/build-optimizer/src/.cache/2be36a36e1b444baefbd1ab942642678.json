{"remainingRequest":"D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--3-1!D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\angular-baidu-maps\\core\\abm.component.js","dependencies":[{"path":"D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\angular-baidu-maps\\core\\abm.component.js","mtime":1509618914000},{"path":"D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":0},{"path":"D:\\mygit\\HCWeChat\\ng-admin\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["import { Component, Input, ElementRef, EventEmitter, Output, NgZone, ViewEncapsulation } from '@angular/core';\nimport { LoaderService } from './loader.service';\nimport { AbmConfig } from './abm.config';\nvar AbmComponent = /*@__PURE__*/ (function () {\n    function AbmComponent(el, COG, loader, zone) {\n        this.el = el;\n        this.COG = COG;\n        this.loader = loader;\n        this.zone = zone;\n        this.options = {};\n        this.ready = new EventEmitter();\n        this.map = null;\n    }\n    AbmComponent.prototype.ngOnInit = function () {\n        this._initMap();\n    };\n    AbmComponent.prototype.ngOnChanges = function (changes) {\n        if ('options' in changes)\n            this._updateOptions();\n    };\n    AbmComponent.prototype._initMap = function () {\n        var _this = this;\n        if (this.map)\n            return;\n        this.loader.load().then(function () {\n            _this.zone.runOutsideAngular(function () {\n                try {\n                    _this.map = new BMap.Map(_this.el.nativeElement, _this.options);\n                }\n                catch (ex) {\n                    console.warn('地图初始化失败', ex);\n                }\n            });\n            _this.ready.emit(_this.map);\n        }).catch(function (error) {\n            console.warn('js加载失败', error);\n        });\n    };\n    AbmComponent.prototype._updateOptions = function () {\n        this.options = Object.assign({}, this.COG.mapOptions, this.options);\n        if (this.map) {\n            this.map.setOptions(this.options);\n        }\n    };\n    AbmComponent.prototype.destroy = function () {\n        if (this.map) {\n            this.map.clearOverlays();\n            this.map.clearHotspots();\n        }\n    };\n    AbmComponent.prototype.ngOnDestroy = function () {\n        this.destroy();\n    };\n    return AbmComponent;\n}());\nexport { AbmComponent };\n//# sourceMappingURL=abm.component.js.map \n",null]}